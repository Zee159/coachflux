{
  "id": "GROW",
  "steps": [
    {
      "name": "goal",
      "system_objective": "Clarify the desired outcome and timeframe.",
      "required_fields_schema": {
        "type": "object",
        "properties": {
          "goal": { "type": "string", "minLength": 8, "maxLength": 240 },
          "why_now": { "type": "string", "minLength": 8, "maxLength": 240 },
          "success_criteria": { "type": "array", "items": { "type": "string", "minLength": 3 }, "minItems": 1, "maxItems": 5 },
          "timeframe": { "type": "string", "minLength": 1, "maxLength": 100 }
        },
        "required": ["goal", "why_now", "success_criteria", "timeframe"],
        "additionalProperties": false
      }
    },
    {
      "name": "reality",
      "system_objective": "Surface current constraints, facts, and risks without judgment.",
      "required_fields_schema": {
        "type": "object",
        "properties": {
          "current_state": { "type": "string", "minLength": 8, "maxLength": 320 },
          "constraints": { "type": "array", "items": { "type": "string" }, "maxItems": 6 },
          "resources": { "type": "array", "items": { "type": "string" }, "maxItems": 6 },
          "risks": { "type": "array", "items": { "type": "string" }, "maxItems": 6 }
        },
        "required": ["current_state"],
        "additionalProperties": false
      }
    },
    {
      "name": "options",
      "system_objective": "Facilitate user discovering at least two viable options (user-generated or AI-suggested) with pros and cons.",
      "required_fields_schema": {
        "type": "object",
        "properties": {
          "options": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "label": { "type": "string", "minLength": 3, "maxLength": 60 },
                "pros": { "type": "array", "items": { "type": "string" }, "maxItems": 5 },
                "cons": { "type": "array", "items": { "type": "string" }, "maxItems": 5 }
              },
              "required": ["label"],
              "additionalProperties": false
            },
            "minItems": 2,
            "maxItems": 5
          }
        },
        "required": ["options"],
        "additionalProperties": false
      }
    },
    {
      "name": "will",
      "system_objective": "Select one option and define SMART actions.",
      "required_fields_schema": {
        "type": "object",
        "properties": {
          "chosen_option": { "type": "string" },
          "actions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": { "type": "string", "minLength": 4, "maxLength": 120 },
                "owner": { "type": "string" },
                "due_days": { "type": "integer", "minimum": 1, "maximum": 90 }
              },
              "required": ["title", "owner", "due_days"],
              "additionalProperties": false
            },
            "minItems": 1,
            "maxItems": 3
          }
        },
        "required": ["chosen_option", "actions"],
        "additionalProperties": false
      }
    },
    {
      "name": "review",
      "system_objective": "Two-phase: First ask user review questions, then provide AI insights.",
      "required_fields_schema": {
        "type": "object",
        "properties": {
          "summary": { "type": "string", "minLength": 16, "maxLength": 400 },
          "ai_insights": { "type": "string", "minLength": 20, "maxLength": 400 },
          "unexplored_options": { "type": "array", "items": { "type": "string" }, "minItems": 1, "maxItems": 4 },
          "identified_risks": { "type": "array", "items": { "type": "string" }, "minItems": 1, "maxItems": 4 },
          "potential_pitfalls": { "type": "array", "items": { "type": "string" }, "minItems": 1, "maxItems": 4 },
          "coach_reflection": { "type": "string", "minLength": 20, "maxLength": 300 }
        },
        "required": ["coach_reflection"],
        "additionalProperties": false
      }
    }
  ]
}
